
include "centos.testo"

[no_snapshots: true]
test centos_for_range_param: centos_prepare_testo {
	centos {
		copyto "${TEST_ASSETS_DIR}/param_resolve/for_tests.testo" "/opt/scripts/for_tests.testo"
		exec bash """
			output=$(testo run /opt/scripts/for_tests.testo --stop_on_fail --test_spec for_range_param --report_folder /opt/report)
			[[ $output == *"0: iteration #0"* ]]
			[[ $output == *"0: iteration #1"* ]]
			[[ $output == *"0: iteration #2"* ]]
			[[ $output == *"0: iteration #3"* ]]

			[[ $output == *"1: iteration #0"* ]]
			[[ $output == *"1: iteration #1"* ]]
			[[ $output == *"1: iteration #2"* ]]
			[[ $output != *"1: iteration #3"* ]]
		"""
	}
}
