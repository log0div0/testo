Требования к ОС:
	- Ubuntu 18.04 и выше
	- Другие гипервизоры не должны быть запущены во время работы платформы testo

1. Подготовка системы к запуску

1.1. Установка зависимостей

Для корректной работы нужно установить следующие основные компоненты:
	- гипервизор qemu
	- библиотеку libvirt и сервис libvirtd
	- менеджер управления виртуальными машинами virt-manager (рекомендуется, но необязательно, нужен если требуется интерактивное взаимодействие с виртуальными машинами)

Команды для установки
	- Обязательно: sudo apt install libvirt0 libvirt-clients libvirt-daemon-system qemu qemu-kvm
	- Рекомендовано: sudo apt install virt-manager

После установки пакетов нужно перезагрузить систему

1.2. Установка платформы Testo

Для установки платформы Testo достаточно выполнить одну команду:

	sudo dpkg -i testo-1.4.0.deb

2. Подготовка IDE с настройкой подсветки для синтаксиса

В настоящий момент поддерживается подсветка синтаксиса только для текстового редактора Sublime Text 3. Скачать его можно по адресу https://www.sublimetext.com/3

Для установки подсветки необходимо воспользоваться пакетным менеджером, входящим в состав Sublime Text 3. Инструкция по его установке расположена по адресу https://packagecontrol.io/installation

После установки пакетного менеджера:
	1. Во время работы Sublime Text 3 вызовите управлящее меню (Ctrl + Shift + P)
	2. Выберите пункт Package Control: Install Package
	3. В появившемся меню введите в строку поиска Testo Highlighter и выберите соответствующий пункт

После этого скрипты в файлах, имеющих расширение .testo, будут подсвечиваться

Если по какой-то причине Вы не можете воспользоваться пакетным менеджером, можно установить файл с подсветкой синтаксиса вручную. Для этого скопируйте файл Testo.sublime-syntax в папку ~/.config/sublime-text-3/Pacakges/User/

3. Запуск скриптов из папки samples

3.1. Запуск скрипта ubuntu_installation.testo

Требования:
	- Наличие образа Ubuntu Server ubuntu-16.04.6-server-amd64.iso (подходят и другие версии ubuntu server. Если они называются по-другому, необходимо подправить файл ubuntu_installation.testo)

Скрипт ubuntu_installation.testo автоматизирует установку ubuntu server 16.04.

Предположим, что файл с образом Ubuntu Server находится в папке /opt/iso, а распакованная папка samples - в /opt/samples Тогда для запуска запустите следующую команду:

	sudo testo run /opt/samples/ubuntu_installation.testo --param ISO_DIR /opt/iso

Работу интерпретатора Testo можно наблюдать в программе virt-manager

После успешного прохождения теста на установку Ubuntu Server при желании можно удалить все созданные и закешированные сущности командой

	sudo testo clean

3.2. Запуск стенда vpn_stand.testo

Требования:
	- Наличие образа Ubuntu Server ubuntu-16.04.6-server-amd64.iso (подходят и другие версии ubuntu server. Если они называются по-другому, необходимо подправить файл ubuntu_installation.testo)
	- Наличие образа negotiator.iso в одной папке с образом Ubuntu Server
	- На хостовой машине налажен доступ в Интернет

Предположим, что файлы с образами iso находятся в папке /opt/iso, а распакованная папка samples - в /opt/samples Тогда для запуска запустите следующую команду:

	sudo testo run /opt/samples/vpn_stand --param ISO_DIR /opt/iso

Если для доступа в Интернет Вы используете прокси, то необходимо указать его адрес в виде отдельного параметра

	sudo testo run /opt/samples/vpn_stand --param ISO_DIR /opt/iso --param HTTP_PROXY ${HTTP_PROXY}

3.2. Запуск стенда url_stand.testo

Запуск этого стенда полностью совпадает с запуском стенда vpn_stand.testo

ВНИМАНИЕ! В настоящее время тест configure_squid заканчивается неудачей из-за ошибки компиляции модуля ecap_clamav_adapter, что вызвано обновлением clamav в недавнее время.

4. Использование лицензии

При наличии лицензии укажите путь к ней с помощью аргумента --license
Например, если лицензия хранится в файле /opt/testo/liсense, то запуск сценария ubuntu_installations.testo будет выглядеть так:

	sudo testo run /opt/samples/ubuntu_installation.testo --param ISO_DIR /opt/iso --license /opt/testo/license
