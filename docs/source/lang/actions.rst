..  SPDX-License-Identifier: BSD-3-Clause
    Copyright(c) 2010-2014 Intel Corporation.

.. _actions:

Действия
========

start
-----

Формат команды:

.. code-block:: none

	start

**Описание**

Запускает виртуальную машину. На момент выполнения действия виртуальная машина должна быть выключена. Попытка запустить уже запущенную виртуальную машину приведет к ошибке.

**Аргументы**: нет

stop
----

Формат команды:

.. code-block:: none

	stop

**Описание**

Останавливает виртуальную машину, имитируя обрыв электропитания. На момент выполнения действия виртуальная машина должна быть запущена. Попытка остановить уже остановленную виртуальную машину приведет к ошибке

**Аргументы**: нет


shutdown
--------

Формат команды:

.. code-block:: none

	shutdown

**Описание**

Посылает сигнал SIGTERM в виртуальную машину, запуская "мягкую" остановку виртуальной машины. Для работы этой команды ОС в виртуальной машине должна поддерживать обработку сигнала SIGTERM. На момент выполнения действия виртуальная машина должна быть запущена. Попытка остановить уже остановленную виртуальную машину приведет к ошибке

**Аргументы**: нет

press
-----

Формат команды:

.. code-block:: none

	press <key_spec1>[, key_spec2][,key_spec3]...


**Описание**
	Посылает в ВМ сигнал к нажатию клавиш клавиаутры, указанных в ``key_spec``. При необходимости команда press позволяет передавать сразу последовательность нажатий клавиш. В этом случае нажатия клавиш должны разделяться запятой. Виртуальная машина должна быть запущена.


**Аргументы**:

	- ``key_spec`` -  Сочетание клавиш, которое необходимо нажать.

Сочетание клавиш
++++++++++++++++

Сочетание клавиш представляет собой особую языковую конструкцию, которая имеет следующий формат

.. code-block:: none

	<key_id1>[+key_id2][+key_id3]...[*number]

``key_id``  представляет собой идентификатор с названием клавиши. Полный список идентификаторов клавиш представлен :ref:`здесь <keys>`. Идентификатор с названием клавиши **нечувствителен к регистру**, поэтому идентификатор ``enter`` эквивалентен ``Enter`` и ``ENTER``

Сочетание клавиш состоит из двух составляющих: перечисление **одновременно нажимаемых клавиш** и спецификатор количества повторений. Секция одновременно перечисляемых клавиш должна состоять из ID хотя бы одной клавиши. Если требуется одновременно нажать несколько клавиш, то для их перечисления используется знак ``+``. Спецификатор количества повторений указывает, сколько раз необходимо нажать клавиши, указанные в первой секции.

Несколько примеров:

	- ``Down`` - единичное нажатие клавиши "стрелка Вниз"
	- ``LEFTCTRL + alt + Delete`` - единичное нажатие сочетания клавиш Ctrl Alt Delete
	- ``LEFTCTRL + alt + Delete * 1`` - эквивалентно предыдущему
	- ``Backspace * 6`` - нажать клавишу Backspace 6 раз
	- ``leftalt + F2 * 3`` - трижды нажать одновременно клавиши "Left alt" и F2

Примеры использования команды ``press``:

	- ``press Down*6, Enter`` - 6 раз нажать клавишу "Вниз", затем нажать "Enter"
	- ``press LeftCTRL + LEFTALT + Delete, Down*2, Enter*3`` - Один раз нажать сочетание Ctrl Alt Delete, затем два рзаа нажать клавишу "стрелка вниз", затем трижды - Enter


type
----

Формат команды:

.. code-block:: none

	type <string>

**Описание**



**Аргументы**:

	- ``message`` -  Тип: строка. Сообщение, которое необходимо вывести на экран.


abort
-----

Формат команды:

.. code-block:: none

	abort <error_message>

**Описание**

Аварийно завершает выполнение текущего теста и генерирует сообщение об ошибке. Тест считается неудачно завершившимся.

**Аргументы**:

	- ``error_message`` - Тип: строка. Сообщение об ошибке.


print
-----

Формат команды:

.. code-block:: none

	print <message>

**Описание**

Выводит на экран сообщение, после чего тест продолжает работу

**Аргументы**:

	- ``message`` -  Тип: строка. Сообщение, которое необходимо вывести на экран.



	- ``wait`` - Действие "дождаться отображения строки на экране"
	- ``press`` - Действие "нажать клавишу"
	- ``plug`` - Действие "подключить"
	- ``unplug`` - Действие "отключить"
	- ``exec`` - Действие "выполнить команду на виртуальной машине"
	- ``copyto`` - Действие "скопировать файлы на виртуальную машину"
	- ``copyfrom`` - Действие "скопировать файлы из виртуальной машины"	- ``flash`` - Начало объявления виртуального флеш-накопителя
